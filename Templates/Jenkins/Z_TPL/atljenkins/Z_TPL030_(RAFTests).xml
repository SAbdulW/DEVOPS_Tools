<?xml version='1.0' encoding='UTF-8'?>
<project>
  <actions/>
  <description></description>
  <logRotator class="hudson.tasks.LogRotator">
    <daysToKeep>-1</daysToKeep>
    <numToKeep>10</numToKeep>
    <artifactDaysToKeep>-1</artifactDaysToKeep>
    <artifactNumToKeep>-1</artifactNumToKeep>
  </logRotator>
  <keepDependencies>false</keepDependencies>
  <properties>
    <hudson.plugins.buildblocker.BuildBlockerProperty plugin="build-blocker-plugin@1.4.1">
      <useBuildBlocker>false</useBuildBlocker>
    </hudson.plugins.buildblocker.BuildBlockerProperty>
    <hudson.model.ParametersDefinitionProperty>
      <parameterDefinitions>
        <hudson.model.StringParameterDefinition>
          <name>DevRootPath</name>
          <description>workspace</description>
          <defaultValue>D:\gitroot\Z_TPL</defaultValue>
        </hudson.model.StringParameterDefinition>
        <hudson.model.StringParameterDefinition>
          <name>ScriptLocation</name>
          <description></description>
          <defaultValue>ci_global\IntegrationTests\RAF\Generic\workflows\BasicInt.script</defaultValue>
        </hudson.model.StringParameterDefinition>
        <hudson.model.StringParameterDefinition>
          <name>EnvPramLocation</name>
          <description></description>
          <defaultValue>ci_global\IntegrationTests\RAF\Generic\workflows\env.params</defaultValue>
        </hudson.model.StringParameterDefinition>
        <hudson.model.StringParameterDefinition>
          <name>PrivateScriptLocation</name>
          <description></description>
          <defaultValue>ci\IntegrationTests\RAF\workflows\Int.suite</defaultValue>
        </hudson.model.StringParameterDefinition>
        <hudson.model.StringParameterDefinition>
          <name>PrivateEnvPramLocation</name>
          <description></description>
          <defaultValue>ci\IntegrationTests\RAF\workflows\env.params</defaultValue>
        </hudson.model.StringParameterDefinition>
        <hudson.model.StringParameterDefinition>
          <name>VmIp</name>
          <description>IP address of the machine need to be tested</description>
          <defaultValue>#10.156.16.125</defaultValue>
        </hudson.model.StringParameterDefinition>
        <hudson.model.StringParameterDefinition>
          <name>TestMachineAdmin</name>
          <description>Test_Machine_User</description>
          <defaultValue>systemadmin</defaultValue>
        </hudson.model.StringParameterDefinition>
        <hudson.model.PasswordParameterDefinition>
          <name>VmPw</name>
          <description>Test_Machine_Password</description>
          <defaultValue>d3oihSOqMY6ANI1hPitrCl1W8+z6FoYGB74IT3gB1ng=</defaultValue>
        </hudson.model.PasswordParameterDefinition>
        <hudson.model.StringParameterDefinition>
          <name>RafDir</name>
          <description>RAF relative Path to the Workspace</description>
          <defaultValue>Regression Automation Framework</defaultValue>
        </hudson.model.StringParameterDefinition>
        <hudson.model.StringParameterDefinition>
          <name>Test_Machine_Name</name>
          <description></description>
          <defaultValue>2008base</defaultValue>
        </hudson.model.StringParameterDefinition>
        <hudson.model.BooleanParameterDefinition>
          <name>PrivateRaf</name>
          <description></description>
          <defaultValue>false</defaultValue>
        </hudson.model.BooleanParameterDefinition>
      </parameterDefinitions>
    </hudson.model.ParametersDefinitionProperty>
    <jenkins.plugins.slack.SlackNotifier_-SlackJobProperty plugin="slack@1.7">
      <teamDomain></teamDomain>
      <token></token>
      <room></room>
      <startNotification>false</startNotification>
      <notifySuccess>false</notifySuccess>
      <notifyAborted>false</notifyAborted>
      <notifyNotBuilt>false</notifyNotBuilt>
      <notifyUnstable>false</notifyUnstable>
      <notifyFailure>false</notifyFailure>
      <notifyBackToNormal>false</notifyBackToNormal>
      <notifyRepeatedFailure>false</notifyRepeatedFailure>
      <includeTestSummary>false</includeTestSummary>
      <showCommitList>false</showCommitList>
    </jenkins.plugins.slack.SlackNotifier_-SlackJobProperty>
  </properties>
  <scm class="hudson.scm.NullSCM"/>
  <assignedNode>Slave-B-Staging01</assignedNode>
  <canRoam>false</canRoam>
  <disabled>false</disabled>
  <blockBuildWhenDownstreamBuilding>false</blockBuildWhenDownstreamBuilding>
  <blockBuildWhenUpstreamBuilding>false</blockBuildWhenUpstreamBuilding>
  <jdk>(Default)</jdk>
  <triggers/>
  <concurrentBuild>true</concurrentBuild>
  <customWorkspace>$DevRootPath</customWorkspace>
  <builders>
    <hudson.tasks.Shell>
      <command>if [ -d $WORKSPACE/raf ]; then
  # Control will enter here if $DIRECTORY exists.
  rm -rf &quot;$WORKSPACE/raf&quot;
fi
if [ ! -d c:/temp ]; then
  # Create C:\temp if does not exists.
  mkdir &quot;c:/temp&quot;
fi

echo -------------- Download RAF---------

mkdir $WORKSPACE/raf
curl -o $WORKSPACE/raf/RegressionAutomationFramework.zip http://atlartifactory:8081/artifactory/automation-release/com/verint/automation/RegressionAutomationFramework/2.6.0.833/RegressionAutomationFramework-2.6.0.833.zip
echo -------------- Unzip RAF ---------------

unzip $WORKSPACE/raf/RegressionAutomationFramework.zip -d &quot;$WORKSPACE/raf&quot;

echo -------------- Download RAF Actions---------

curl -o $WORKSPACE/raf/raf_products.zip http://atlartifactory:8081/artifactory/automation-release/com/verint/automation/raf_products/11.2.0.0/raf_products-11.2.0.0.zip
echo -------------- Unzip RAF Actions ---------------

unzip $WORKSPACE/raf/raf_products.zip -d &quot;$WORKSPACE/raf/Regression Automation Framework/lib/&quot;</command>
    </hudson.tasks.Shell>
    <org.jenkinsci.plugins.conditionalbuildstep.ConditionalBuilder plugin="conditional-buildstep@1.3.3">
      <runner class="org.jenkins_ci.plugins.run_condition.BuildStepRunner$Fail" plugin="run-condition@1.0"/>
      <runCondition class="org.jenkins_ci.plugins.run_condition.logic.And" plugin="run-condition@1.0">
        <conditions>
          <org.jenkins__ci.plugins.run__condition.logic.ConditionContainer>
            <condition class="org.jenkins_ci.plugins.run_condition.core.FileExistsCondition">
              <file>${WORKSPACE}/${PrivateScriptLocation}</file>
              <baseDir class="org.jenkins_ci.plugins.run_condition.common.BaseDirectory$Workspace"/>
            </condition>
          </org.jenkins__ci.plugins.run__condition.logic.ConditionContainer>
          <org.jenkins__ci.plugins.run__condition.logic.ConditionContainer>
            <condition class="org.jenkins_ci.plugins.run_condition.core.FileExistsCondition">
              <file>${WORKSPACE}/${PrivateEnvPramLocation}</file>
              <baseDir class="org.jenkins_ci.plugins.run_condition.common.BaseDirectory$Workspace"/>
            </condition>
          </org.jenkins__ci.plugins.run__condition.logic.ConditionContainer>
        </conditions>
      </runCondition>
      <conditionalbuilders>
        <hudson.tasks.BatchFile>
          <command>echo Private RAF files were found at %WORKSPACE%\%PrivateScriptLocation%&#xd;
&quot;%WORKSPACE%\raf\Regression Automation Framework\rafcli.exe&quot; &quot;%WORKSPACE%\%PrivateScriptLocation%&quot; --param EnvParamsFileName:&quot;%WORKSPACE%\%PrivateEnvPramLocation%&quot;   --param ServerNameApp:%VmIp% --param ReportFolderFormat:curr --param WinDomain:%VmIp%</command>
        </hudson.tasks.BatchFile>
        <hudson.tasks.BatchFile>
          <command>echo PrivateRaf=true &gt; %workspace%\raf.prop</command>
        </hudson.tasks.BatchFile>
        <EnvInjectBuilder plugin="envinject@1.90">
          <info>
            <propertiesFilePath>${WORKSPACE}\raf.prop</propertiesFilePath>
          </info>
        </EnvInjectBuilder>
      </conditionalbuilders>
    </org.jenkinsci.plugins.conditionalbuildstep.ConditionalBuilder>
    <org.jenkinsci.plugins.conditionalbuildstep.ConditionalBuilder plugin="conditional-buildstep@1.3.3">
      <runner class="org.jenkins_ci.plugins.run_condition.BuildStepRunner$Fail" plugin="run-condition@1.0"/>
      <runCondition class="org.jenkins_ci.plugins.run_condition.core.StringsMatchCondition" plugin="run-condition@1.0">
        <arg1>${PrivateRaf}</arg1>
        <arg2>false</arg2>
        <ignoreCase>false</ignoreCase>
      </runCondition>
      <conditionalbuilders>
        <hudson.tasks.BatchFile>
          <command>&quot;%WORKSPACE%\raf\Regression Automation Framework\rafcli.exe&quot; &quot;%WORKSPACE%\%ScriptLocation%&quot; --param @EnvParamsFileName:&quot;%WORKSPACE%\%EnvPramLocation%&quot;   --param ServerNameApp:%VmIp% --param ReportFolderFormat:curr --param WinDomain:%VmIp%</command>
        </hudson.tasks.BatchFile>
      </conditionalbuilders>
    </org.jenkinsci.plugins.conditionalbuildstep.ConditionalBuilder>
  </builders>
  <publishers>
    <htmlpublisher.HtmlPublisher plugin="htmlpublisher@1.3">
      <reportTargets>
        <htmlpublisher.HtmlPublisherTarget>
          <reportName>HTML Report</reportName>
          <reportDir>$WORKSPACE\raf\Regression Automation Framework\reports\curr</reportDir>
          <reportFiles>report.html</reportFiles>
          <keepAll>true</keepAll>
          <allowMissing>true</allowMissing>
          <wrapperName>htmlpublisher-wrapper.html</wrapperName>
        </htmlpublisher.HtmlPublisherTarget>
      </reportTargets>
    </htmlpublisher.HtmlPublisher>
  </publishers>
  <buildWrappers>
    <org.jvnet.hudson.tools.versionnumber.VersionNumberBuilder plugin="versionnumber@1.4.1">
      <versionNumberString>${MasterBuildVersion}</versionNumberString>
      <projectStartDate>1969-12-31 05:00:00.0 UTC</projectStartDate>
      <environmentVariableName>MasterBuildVersion</environmentVariableName>
      <oBuildsToday>-1</oBuildsToday>
      <oBuildsThisMonth>-1</oBuildsThisMonth>
      <oBuildsThisYear>-1</oBuildsThisYear>
      <oBuildsAllTime>-1</oBuildsAllTime>
      <skipFailedBuilds>false</skipFailedBuilds>
      <useAsBuildDisplayName>true</useAsBuildDisplayName>
    </org.jvnet.hudson.tools.versionnumber.VersionNumberBuilder>
  </buildWrappers>
</project>